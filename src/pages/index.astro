---
import Layout from "../layouts/Layout.astro";
import FilterBar from "../components/Svelte/FilterBar.svelte";
import CountryList from '../components/Svelte/CountryList.svelte';

const countriesApiResponse = await fetch(`${Astro.url}api/countries.json`);

const countriesJson = await countriesApiResponse.json();

---

<Layout title="Countries">
  <main class="font-primary">
    <div class="container mx-auto ">
      <div class="flex justify-between items-center mb-10 ">
        <FilterBar />
      </div>
       <CountryList countries={countriesJson.countries}/>
    </div>
  </main>
</Layout>


